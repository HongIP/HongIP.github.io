<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="CACHE-CONTROL" content="NO-CACHE">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.2.3/milligram.min.css">
  <link rel="stylesheet" type="text/css" href="https:///HongIP.github.io/usertype.css"> <!--<form><div class="dynamiclabel"></div> -->
  <title> SELLER TEST </title>
</head>

  <body>
      <h3> SELLER</h3>
      <form>
           
          <ul>
              <li>가입: <div class="dynamiclabel"><input id="addmember" type="text">
            <label for="addmember">이름</label></div>
            <div class="dynamiclabel"><input id="newid" type="text">
            <label for="newid">보낼 금액</label></div></li>
            <li><button onclick="setSeller()">판매자로 가입</button><button onclick="setBuyer()">구매자로 가입</button></li>
        
            
            ========================================판매자==========================================

            <li>판매 물품 등록<button onclick="uploadpage()">등록페이지로</button></li>
            <li>판매 물품 정보 입력
              <div class="dynamiclabel">
                <input id="pro_Image" type="text">
                <label for="pro_Image">사진</label>
              </div>
              <div class="dynamiclabel">
                <input id="pro_addr" type="text">
                <label for="pro_addr">매물 주소</label>
              </div>
              <div class="dynamiclabel">
                <input id="pro_info" type="text">
                <label for="pro_info">매물 정보</label>
              </div>
              <div class="dynamiclabel">
                <input id="pro_price" type="text">
                <label for="pro_price">매물 가격(ether)</label>
              </div>
              <div class="dynamiclabel">
                <input id="pro_tag" type="text">
                <label for="pro_tag">설명</label>
              </div>
              <div class="dynamiclabel">
                <input id="pro_name" type="text">
                <label for="pro_name">매물 이름</label>
              
              <button onclick="setUploadProduct()">버튼</button>
            </li>

            <li>개인(서류)</li>
            <li><div class="dynamiclabel">
              <input id="docu_Image" type="text">
              <label for="docu_Image">서류사진</label>
            </div>
            <div class="dynamiclabel">
              <input id="docu_name" type="text">
              <label for="docu_name">서류 이름</label>
            </div>
            <div class="dynamiclabel">
              <input id="docu_info" type="text">
              <label for="docu_info">서류 정보</label>
            </div></li>



            <button onclick="Updatepage()">매물정보 수정페이지로 가기</button>
            <li>판매 물품 정보 수정
              <div class="dynamiclabel">
                <input id="pro_updateImage" type="text">
                <label for="pro_updateImage">사진</label>
              </div>
              <div class="dynamiclabel">
                <input id="pro_updateaddr" type="text">
                <label for="pro_updateaddr">매물 주소</label>
              </div>
              <div class="dynamiclabel">
                <input id="pro_updateinfo" type="text">
                <label for="pro_updateinfo">매물 정보</label>
              </div>
              <div class="dynamiclabel">
                <input id="pro_updateprice" type="text">
                <label for="pro_updateprice">매물 가격(ether)</label>
              </div>
              <div class="dynamiclabel">
                <input id="pro_updatetag" type="text">
                <label for="pro_updatetag">설명</label>
              </div>
              <div class="dynamiclabel">
                <input id="pro_updatename" type="text">
                <label for="pro_updatename">매물 이름</label>
              
              <button onclick="setUpdateProduct()">수정 완료버튼</button>
            </li>

            <button onclick="closetrans()">거래 종료</button>
            <button onclick="Allstoptransclose()">거래 취소</button>






            <li>판매 시작 :<div class="dynamiclabel"><input id="newsale" type="text">
              <label for="newsale">판매 기간</label></div></li>
              <button onclick="startsale()">판매 시작</button>
            </ul>
          
            <a href="http://192.168.0.68:8080/김창은.html" class="css3dbutton">
              <span class="outer">
              <span class="top">Sign Up!</span>
              <span class="bottom">It's free and fast</span>
              </span>
              </a>
      </form>



  </body>
  <html>

  <script src="https://cdn.rawgit.com/ethereum/web3.js/develop/dist/web3.js"></script>
<!-- script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"></script -->
<script>
    
    var contractAddress = '0x144613b9bb78c6c4550b3d5b7844abdfce1e4b6c'; //크라우드 세일 tx Tx
    //var MembercontractAddress = '0x0f71511ec159e336fde08de634f2e1e11e083918'; //맴버 Tx
    var CoincontractAddress = '0x27ab1088eb8ad94187a480ac7d3192957ebfca68'; //코인 tx


    var abi = [{"constant":false,"inputs":[],"name":"checkGoalReached","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"withdrawalOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"transferableToken","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"deadline","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getReaminingTimeEthToken","outputs":[{"name":"min","type":"uint256"},{"name":"shortage","type":"uint256"},{"name":"remainToken","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"currentSwapRate","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"fundersProperty","outputs":[{"name":"paymentEther","type":"uint256"},{"name":"reservedToken","type":"uint256"},{"name":"withdrawed","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"soldToken","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOpened","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"tokenReward","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"startTime","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"fundingGoal","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_durationInMinutes","type":"uint256"}],"name":"start","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"price","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"fundingGoalReached","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"withdrawal","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_new","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_fundingGoalInEther","type":"uint256"},{"name":"_transferableToken","type":"uint256"},{"name":"_amountOfTokenPerEther","type":"uint256"},{"name":"_addressOfTokenUsedAsReward","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":false,"name":"fundingGoal","type":"uint256"},{"indexed":false,"name":"deadline","type":"uint256"},{"indexed":false,"name":"transferableToken","type":"uint256"},{"indexed":false,"name":"beneficiary","type":"address"}],"name":"CrowdsaleStart","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"backer","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"token","type":"uint256"}],"name":"ReservedToken","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"beneficiary","type":"address"},{"indexed":false,"name":"fundingGoal","type":"uint256"},{"indexed":false,"name":"amountRaised","type":"uint256"},{"indexed":false,"name":"reached","type":"bool"},{"indexed":false,"name":"raisedToken","type":"uint256"}],"name":"CheckGoalReached","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"addr","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"result","type":"bool"}],"name":"WithdrawalToken","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"addr","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"result","type":"bool"}],"name":"WithdrawalEther","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldaddr","type":"address"},{"indexed":false,"name":"newaddr","type":"address"}],"name":"TransferOwnership","type":"event"}];
    var coinabi = [{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"members","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"blackList","outputs":[{"name":"","type":"int8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_addr","type":"address"}],"name":"deleteFromBlacklist","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_addr","type":"address"}],"name":"Blacklisting","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_new","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_members","type":"address"}],"name":"setMembers","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_supply","type":"uint256"},{"name":"_name","type":"string"},{"name":"_symbol","type":"string"},{"name":"_decimals","type":"uint8"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"target","type":"address"}],"name":"Blacklisted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"target","type":"address"}],"name":"DeleteFromBlacklist","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"RejectedPaymentToBlacklistedAddr","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"RejectedPaymentFromBlacklistedAddr","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"addr","type":"address"},{"indexed":false,"name":"rate","type":"int8"}],"name":"SetCashback","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Cashback","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oldaddr","type":"address"},{"indexed":false,"name":"newaddr","type":"address"}],"name":"TransferOwnership","type":"event"}];
    var simpleStorageContract;
    var crowdsaleStorage;
    var cocoCoin;
    var membergrade;
    
    window.addEventListener('load', function() {
    
      // Checking if Web3 has been injected by the browser (Mist/MetaMask)
      if (typeof web3 !== 'undefined') {
        // Use Mist/MetaMask's provider
        window.web3 = new Web3(web3.currentProvider);
      } else {
        console.log('No web3? You should consider trying MetaMask!')
        // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)
        window.web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
      }
      // Now you can start your app & access web3 freely:
      startApp();
    });
    
    function startApp() {
      simpleStorageContract = web3.eth.contract(abi);
      crowdsaleStorage = simpleStorageContract.at(contractAddress);
      cocoCoin = web3.eth.contract(coinabi).at(CoincontractAddress);
      //membergrade = simpleStorageContract.at(membergrade);

      //document.getElementById('contractAddr').innerHTML = MembercontractAddress;
      
      web3.eth.getAccounts(function(e,r){
        document.getElementById('accountAddr').innerHTML = r[0];
      });
      document.getElementById('coincontract').innerHTML = CoincontractAddress;
      document.getElementById('crowdcon').innerHTML = contractAddress;
    
    }

    function transfer(){
        let addr = document.getElementById('transferaddr').value;
        let money = document.getElementById('money').value;
        console.log(addr,money);
        cocoCoin.transfer(addr,money,function(e,r){console.log(r)});
    }

    function startsale()
    {
        let time = document.getElementById('newsale').value;

        crowdsaleStorage.start(time,function(e,r){});

    }
    function buyerinfo()
    {
      let nickname = document.getElementById('mem_name').value;
      if(nickname = bkcrowde.buyerDetail.id)
      {
        
      }

    }
    

</script>
</html>
